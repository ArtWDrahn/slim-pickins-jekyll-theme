<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Add sitemap.xml to Jekyll</title>
  <meta name="description" content="I don’t like using plugins unless absolutely necessarry so I was happy to find a simple way to create a sitemap without one. The instructions are taken from ...">

  <link href="/css/main.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link rel="canonical" href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/blog/2014/add-sitemap-xml-to-jekyll">
  <link rel="alternate" type="application/atom+xml" title="Slim Pickins Jekyll Theme" href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/feed.xml"/>

  
 
</head>


  <body>
    <main class="wrap">
        <nav class="navbar">
  <nav class="row">
    <div id="nav">
      <ul class="columns large-8 left primary-nav">

	<li id="toggleMenu"><a href="#nav">Menu</a></li>
	<li id="hideMenu"><a href="#toggleMenu">Menu</a></li>
	
	
	  
		  <li><a href="/">home</a></li>
	  
	
	  
		  <li><a href="/blog/">blog</a></li>
	  
	
	  
	    <li class="dropdown">
	      <a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme">documentation</a>
		<ul>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/sass.html">sass</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/grid.html">grid</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/nav.html">navigation</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/footer.html">sticky footer</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/rakefile.html">rakefile</a></li>
		  
		</ul>
	    </li>
		
	
	  
	    <li class="dropdown">
	      <a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme">use</a>
		<ul>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/installation.html">installation</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/configuration.html">configuration</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/deploy.html">deployment</a></li>
		  
		    <li><a href="//chrisanthropic.github.io/slim-pickins-jekyll-theme/documentation/use.html">basic use</a></li>
		  
		</ul>
	    </li>
		
	
      </ul>

      <ul class="columns large-4 right primary-nav">
	
	  <li class="right"><a href="https://twitter.com/">Twitter</a></li>
	
	  <li class="right"><a href="https://github.com/">Github</a></li>
	
      </ul>
    </div>
  </nav>
</nav>

        <article class="row post-content">

    <header class="post-header">
      <h1 class="post-title">Add sitemap.xml to Jekyll</h1>
      <p class="post-meta">Dec 3, 2014</p>
    </header>
    <p>I don’t like using plugins unless absolutely necessarry so I was happy to find a simple way to create a sitemap without one. The instructions are taken from this site: <a href="http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/">http://davidensinger.com/2013/11/building-a-better-sitemap-xml-with-jekyll/</a></p>

<ul>
  <li>Create a <code>sitemap.xml</code> file with the following content:</li>
</ul>

<pre><code>
---
layout: null
sitemap:
  exclude: 'yes'
---
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  {% for post in site.posts %}
    {% unless post.published == false %}
    &lt;url&gt;
      &lt;loc&gt;{{ site.url }}{{ post.url }}&lt;/loc&gt;
      {% if post.sitemap.lastmod %}
        &lt;lastmod&gt;{{ post.sitemap.lastmod | date: "%Y-%m-%d" }}&lt;/lastmod&gt;
      {% elsif post.date %}
        &lt;lastmod&gt;{{ post.date | date_to_xmlschema }}&lt;/lastmod&gt;
      {% else %}
        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;
      {% endif %}
      {% if post.sitemap.changefreq %}
        &lt;changefreq&gt;{{ post.sitemap.changefreq }}&lt;/changefreq&gt;
      {% else %}
        &lt;changefreq&gt;monthly&lt;/changefreq&gt;
      {% endif %}
      {% if post.sitemap.priority %}
        &lt;priority&gt;{{ post.sitemap.priority }}&lt;/priority&gt;
      {% else %}
        &lt;priority&gt;0.5&lt;/priority&gt;
      {% endif %}
    &lt;/url&gt;
    {% endunless %}
  {% endfor %}
  {% for page in site.pages %}
    {% unless page.sitemap.exclude == "yes" %}
    &lt;url&gt;
      &lt;loc&gt;{{ site.url }}{{ page.url | remove: "index.html" }}&lt;/loc&gt;
      {% if page.sitemap.lastmod %}
        &lt;lastmod&gt;{{ page.sitemap.lastmod | date: "%Y-%m-%d" }}&lt;/lastmod&gt;
      {% elsif page.date %}
        &lt;lastmod&gt;{{ page.date | date_to_xmlschema }}&lt;/lastmod&gt;
      {% else %}
        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;
      {% endif %}
      {% if page.sitemap.changefreq %}
        &lt;changefreq&gt;{{ page.sitemap.changefreq }}&lt;/changefreq&gt;
      {% else %}
        &lt;changefreq&gt;monthly&lt;/changefreq&gt;
      {% endif %}
      {% if page.sitemap.priority %}
        &lt;priority&gt;{{ page.sitemap.priority }}&lt;/priority&gt;
      {% else %}
        &lt;priority&gt;0.3&lt;/priority&gt;
      {% endif %}
    &lt;/url&gt;
    {% endunless %}
  {% endfor %}
&lt;/urlset&gt;

</code></pre>

<ul>
  <li>Add the following configurable settings to your templates:</li>
</ul>

<pre><code>sitemap:
  lastmod: 
  priority: 0.5
  changefreq: monthly
  exclude: 'no'
</code></pre>

<ul>
  <li>More info on the settings can be found at <a href="http://www.sitemaps.org/protocol.html">sitemaps.org</a> but basically
    <ul>
      <li><strong>lastmod</strong> - lists the last time the page/post was modified</li>
      <li><strong>priority</strong> - tells web crawlers how <em>you</em> prioritize the page/post on a scale of 0.0 -1.0. 0.5 is default.</li>
      <li><strong>changefreq</strong> - a guideline for the webcrawler about how often the page/post likely changes (always, hourly, daily, weekly, monthly, yearly, never)</li>
      <li><strong>exclude</strong> - yes/no wether you want the page/post included in the sitemap.</li>
    </ul>
  </li>
  <li>Sitemaps.org is very clear that web crawlers use the data as <em>hints</em> rather than commands so keep that in mind. </li>
</ul>


</article>

    </main>
     <footer class="site-footer">
  <div class="row">
    <div class="small-6 columns">
    </div>
    <div class="small-6 columns">
    </div>
  </div>
</footer> 

  </body>
</html>
